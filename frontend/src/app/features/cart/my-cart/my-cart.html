<div class="mx-auto max-w-[1200px] px-4 py-8">
    
    <!-- Header -->
    <div class="mb-8">
        <!-- Correzione sintassi array per il router -->
        <app-back-button [navigateTo]="'/products'">Continue Shopping</app-back-button>
        <h1 class="text-3xl font-bold mt-4 text-gray-900">Shopping Cart</h1>
    </div>

    @if (cartService.count() > 0) {
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            <!-- Lista Prodotti (Colonna Sinistra) -->
            <div class="lg:col-span-2">
                <app-list-cart-items></app-list-cart-items>
            </div>
            
            <!-- Riepilogo Ordine (Colonna Destra) -->
            <div class="lg:col-span-1">
                <app-order-summary>
                    <ng-container actionButtons>
                        <button mat-flat-button color="primary" class="w-full !py-6 !text-lg !rounded-lg mt-6" (click)="proceedToCheckout()">
                            Proceed to Checkout
                        </button>
                    </ng-container>
                </app-order-summary>
            </div>
        </div>
    } @else {
        <!-- Empty State -->
        <div class="text-center py-20 bg-white rounded-xl border border-gray-200">
            <mat-icon class="!w-16 !h-16 !text-[64px] text-gray-300 mb-4">shopping_cart_off</mat-icon>
            <h2 class="text-2xl font-bold text-gray-900 mb-2">Your cart is empty</h2>
            <p class="text-gray-500 mb-6">Looks like you haven't added anything to your cart yet.</p>
            <a mat-flat-button color="primary" routerLink="/products" class="!rounded-full">
                Start Shopping
            </a>
        </div>
    }
</div>