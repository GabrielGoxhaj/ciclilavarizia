<div class="mx-auto max-w-300 px-4 py-8">
    
    <!-- Header -->
    <div class="mb-8">
        <app-back-button [navigateTo]="'/products'">Torna ai Prodotti</app-back-button>
        <h1 class="text-3xl font-bold mt-4 text-gray-900">Carrello</h1>
    </div>

    @if (cartService.count() > 0) {
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            <!-- prod list (left col) -->
            <div class="lg:col-span-2">
                <app-list-cart-items></app-list-cart-items>
            </div>
            
            <!-- order recap (right col) -->
            <div class="lg:col-span-1">
                <app-order-summary>
                    <ng-container actionButtons>
                        <button mat-flat-button color="primary" class="w-full py-6! text-lg! rounded-lg! mt-6" (click)="proceedToCheckout()">
                            Continua al Checkout
                        </button>
                    </ng-container>
                </app-order-summary>
            </div>
        </div>
    } @else {
        <!-- empty state -->
        <div class="text-center py-20 bg-white rounded-xl border border-gray-200">
            <mat-icon class="w-16! h-16! text-[64px]! text-gray-300 mb-4">shopping_cart_off</mat-icon>
            <h2 class="text-2xl font-bold text-gray-900 mb-2">Il tuo carrello Ã¨ vuoto</h2>
            <p class="text-gray-500 mb-6">Sembra che tu non abbia ancora aggiunto nulla al tuo carrello.</p>
            <a mat-flat-button color="primary" routerLink="/products" class="rounded-full!">
                Inizia lo Shopping
            </a>
        </div>
    }
</div>